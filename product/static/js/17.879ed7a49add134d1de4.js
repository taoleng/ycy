webpackJsonp([17],{EV1k:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("+zM7"),a=o("gwNS"),n={data:function(){return{tabNum:2,iphone:"",pwd:"",code:"",btnLoading:!1,codeFlag:!1,codeNum:60,codeText:"发送验证"}},created:function(){this.reload()},inject:["reload"],metaInfo:{title:"用户登录"},methods:{goTo:function(){var t=localStorage.getItem("LddBackLink");this.reload(),t?(window.location.href=t,localStorage.removeItem("LddBackLink")):this.$router.push("/")},send:function(){var t=this,e=null;function o(){t.codeNum--,t.codeNum<=0?(clearTimeout(e),t.codeFlag=!1,t.codeNum=60,t.codeText="再次发送"):e=setTimeout(o,1e3)}t.iphone?s.a.isPhone(t.iphone)?t.codeFlag||(t.codeFlag=!0,Object(a.a)({Mobile:t.iphone}).then(function(a){console.log(a),1==a.Code?(e=setTimeout(o,1e3),s.a.toast({message:"短信发送成功",type:"success"})):(t.codeFlag=!1,t.codeNum=60,t.codeText="发送验证",s.a.toast(a.Msg))})):s.a.toast("请输入有效手机号"):s.a.toast("请输入手机号")},submit:function(){var t=this,e=this;if(e.iphone)if(s.a.isPhone(e.iphone))if(1==e.tabNum){if(!e.code)return void s.a.toast("请输入验证码");var o={Mobile:e.iphone,MsgVerifyCode:e.code};e.btnLoading=!0,Object(a.b)(o).then(function(o){1==o.Code?(e.setUserInfo(o),setTimeout(function(){t.goTo()},1500),s.a.toast({message:"登录成功",type:"success"})):(e.btnLoading=!1,s.a.toast(o.Msg))})}else{if(!e.pwd)return void s.a.toast("请输入密码");o={UserName:e.iphone,Password:e.pwd};e.btnLoading=!0,Object(a.e)(o).then(function(o){1==o.Code?(e.setUserInfo(o),setTimeout(function(){t.goTo()},1500),s.a.toast({message:"登录成功",type:"success"})):(e.btnLoading=!1,s.a.toast(o.Msg))})}else s.a.toast("请输入有效手机号");else s.a.toast("请输入手机号")}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("div",{staticClass:"login-box"},[o("div",{staticClass:"login-nav flex"},[o("div",{staticClass:"login-item flex-1",class:{on:1==t.tabNum},on:{click:function(e){t.tabNum=1}}},[t._v("快捷登录")]),t._v(" "),o("div",{staticClass:"login-item flex-1",class:{on:2==t.tabNum},on:{click:function(e){t.tabNum=2}}},[t._v("账号登录")])]),t._v(" "),o("div",{staticClass:"login-input"},[o("el-input",{staticClass:"input",attrs:{placeholder:"请输入手机号"},model:{value:t.iphone,callback:function(e){t.iphone=e},expression:"iphone"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-mobile-phone"},slot:"prepend"})],1),t._v(" "),o("el-input",{directives:[{name:"show",rawName:"v-show",value:1==t.tabNum,expression:"tabNum == 1"}],staticClass:"input",attrs:{placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-document-checked"},slot:"prepend"}),t._v(" "),o("el-button",{staticClass:"code",class:{sendCode:t.codeFlag},attrs:{slot:"append"},on:{click:t.send},slot:"append"},[t._v(t._s(t.codeFlag?"剩余"+t.codeNum+"s":t.codeText))])],1),t._v(" "),o("el-input",{directives:[{name:"show",rawName:"v-show",value:2==t.tabNum,expression:"tabNum == 2"}],staticClass:"input",attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}},[o("el-button",{attrs:{slot:"prepend",icon:"el-icon-lock"},slot:"prepend"})],1),t._v(" "),o("el-button",{staticClass:"submit",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.submit}},[t._v("登录")]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"go"},[o("router-link",{staticClass:"forget",attrs:{to:"./forget"}},[t._v("忘记密码？")]),t._v(" "),o("router-link",{staticClass:"register",attrs:{to:"./register"}},[t._v("快速注册")])],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[this._v("注册或登录表示您已同意"),e("a",{attrs:{href:""}},[this._v("《用户协议》")])])}]};var c=o("VU/8")(n,i,!1,function(t){o("gw6K")},null,null);e.default=c.exports},gw6K:function(t,e){}});
//# sourceMappingURL=17.879ed7a49add134d1de4.js.map