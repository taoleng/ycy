webpackJsonp([1],{Cdx3:function(e,t,a){var i=a("sB3e"),s=a("lktj");a("uqUo")("keys",function(){return function(e){return s(i(e))}})},TmV0:function(e,t,a){a("fZOM"),e.exports=a("FeBl").Object.values},fWbC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),r=a("gwNS"),n=a("Rzgu"),l=a("+zM7"),c=a("Dd8w"),o=a.n(c),d=a("gRE1"),f=a.n(d),v=a("fZjL"),u=a.n(v),m=a("7+uW");const h=m.default.prototype.$isServer,p=(h||Number(document.documentMode),!h&&document.addEventListener?function(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)}:function(e,t,a){e&&t&&a&&e.attachEvent("on"+t,a)}),_=!h&&document.removeEventListener?function(e,t,a){e&&t&&e.removeEventListener(t,a,!1)}:function(e,t,a){e&&t&&e.detachEvent("on"+t,a)};Object.prototype.hasOwnProperty;function y(e){let t=!1;return function(...a){t||(t=!0,window.requestAnimationFrame(i=>{e.apply(this,a),t=!1}))}}var g,C={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},w=!m.default.prototype.$isServer&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel",T={name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:C.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,a=e.deg,i=e.offsetX,s=e.offsetY,r={transform:"scale("+t+") rotate("+a+"deg)",transition:e.enableTransition?"transform .3s":"","margin-left":i+"px","margin-top":s+"px"};return this.mode===C.CONTAIN&&(r.maxWidth=r.maxHeight="100%"),r}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(e){var t=this;this.$nextTick(function(e){t.$refs.img[0].complete||(t.loading=!0)})}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var e=this;this._keyDownHandler=y(function(t){switch(t.keyCode){case 27:e.hide();break;case 32:e.toggleMode();break;case 37:e.prev();break;case 38:e.handleActions("zoomIn");break;case 39:e.next();break;case 40:e.handleActions("zoomOut")}}),this._mouseWheelHandler=y(function(t){(t.wheelDelta?t.wheelDelta:-t.detail)>0?e.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):e.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),p(document,"keydown",this._keyDownHandler),p(document,w,this._mouseWheelHandler)},deviceSupportUninstall:function(){_(document,"keydown",this._keyDownHandler),_(document,w,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(e){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown:function(e){var t=this;if(!this.loading&&0===e.button){var a=this.transform,i=a.offsetX,s=a.offsetY,r=e.pageX,n=e.pageY;this._dragHandler=y(function(e){t.transform.offsetX=i+e.pageX-r,t.transform.offsetY=s+e.pageY-n}),p(document,"mousemove",this._dragHandler),p(document,"mouseup",function(e){_(document,"mousemove",t._dragHandler)}),e.preventDefault()}},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var e=u()(C),t=(f()(C).indexOf(this.mode)+1)%e.length;this.mode=C[e[t]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var e=this.urlList.length;this.index=(this.index-1+e)%e}},next:function(){if(!this.isLast||this.infinite){var e=this.urlList.length;this.index=(this.index+1)%e}},handleActions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var a=o()({zoomRate:.2,rotateDeg:90,enableTransition:!0},t),i=a.zoomRate,s=a.rotateDeg,r=a.enableTransition,n=this.transform;switch(e){case"zoomOut":n.scale>.2&&(n.scale=parseFloat((n.scale-i).toFixed(3)));break;case"zoomIn":n.scale=parseFloat((n.scale+i).toFixed(3));break;case"clocelise":n.deg+=s;break;case"anticlocelise":n.deg-=s}n.enableTransition=r}}},mounted:function(){this.deviceSupportInstall(),this.$refs["el-image-viewer__wrapper"].focus()}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"viewer-fade"}},[a("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":e.zIndex},attrs:{tabindex:"-1"}},[a("div",{staticClass:"el-image-viewer__mask",on:{click:e.hide}}),e._v(" "),a("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:e.hide}},[a("i",{staticClass:"el-icon-circle-close"})]),e._v(" "),e.isSingle?e._e():[a("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[a("i",{staticClass:"el-icon-arrow-left"})]),e._v(" "),a("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[a("i",{staticClass:"el-icon-arrow-right"})])],e._v(" "),a("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[a("div",{staticClass:"el-image-viewer__actions__inner"},[a("i",{staticClass:"el-icon-zoom-out",on:{click:function(t){return e.handleActions("zoomOut")}}}),e._v(" "),a("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){return e.handleActions("zoomIn")}}}),e._v(" "),a("i",{staticClass:"el-image-viewer__actions__divider"}),e._v(" "),a("i",{class:e.mode.icon,on:{click:e.toggleMode}}),e._v(" "),a("i",{staticClass:"el-image-viewer__actions__divider"}),e._v(" "),a("i",{staticClass:"el-icon-refresh-left",on:{click:function(t){return e.handleActions("anticlocelise")}}}),e._v(" "),a("i",{staticClass:"el-icon-refresh-right",on:{click:function(t){return e.handleActions("clocelise")}}})])]),e._v(" "),a("div",{staticClass:"el-image-viewer__canvas"},e._l(e.urlList,function(t,i){return i===e.index?a("img",{key:t,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}}):e._e()}),0)],2)])},staticRenderFns:[]},I=a("VU/8")(T,x,!1,null,null,null).exports,b={components:{tlMap:n.a,ElImageViewer:I},data:function(){return{fixed:!1,hayFlag:!1,car:{travelType:"",travelFormType:"",travelPurpose:"旅游包车",isThrough:"非直达",startTime:"",startAddress:{},endTime:"",endAddress:{}},carInfo:{},userInfo:{},changeNum:0,activeName:"1",Halfway:{},startHalfway:{},endHalfway:{},buyId:"",chartered:{Kilometre:0,PredictTotalPrice:0,PredictPrice:0,StrDate:0},checked:!1,drawer:!1,drawerHtml:"",tsFlag:!1,priceFlag:!1,submitFlag:!1,firstComputedPrice:!1,showViewer:!1,leaveFlag:!0,t:""}},filters:{dateDay:function(e){return new Date(e).format("yyyy-MM-dd")},fixed:function(e){return Number(e||0).toFixed(2)}},metaInfo:{title:"车辆详情"},watch:{"car.endTime":function(){this.firstComputedPrice&&(this.computedHalfway(this.car.startTime,this.car.endTime),this.modify())},"car.startTime":function(){var e=this;if(this.firstComputedPrice)if(1==this.car.travelType){var t=this.car.startAddress.point.split(","),a=this.car.endAddress.point.split(",");this.computedTime(t[0],t[1],a[0],a[1],function(t){e.car.endTime=t,e.computedHalfway(e.car.startTime,e.car.endTime),e.modify()})}else this.computedHalfway(this.car.startTime,this.car.endTime),this.modify()},"car.travelType":function(e){var t=this,a=this;if(this.firstComputedPrice)if(1==e){var i=this.car.startAddress.point.split(","),s=this.car.endAddress.point.split(",");this.computedTime(i[0],i[1],s[0],s[1],function(e){a.car.endTime=e,a.computedHalfway(a.car.startTime,a.car.endTime),t.t=((new Date(t.car.endTime)-new Date(t.car.startTime))/1e3/60/60).toFixed(2),a.modify()})}else this.computedHalfway(this.car.startTime,this.car.endTime),this.modify()},"car.travelFormType":function(){this.firstComputedPrice&&this.modify()}},created:function(){this.getOrderContract(),this.userInfo=JSON.parse(localStorage.getItem("LddUserInfo"))||{Name:"",Mobile:"",Remarks:""},this.buyId=this.$route.query.id,this.buyId||this.$router.go(-1);var e=JSON.parse(localStorage.getItem("LddCarInfo"));console.log(e),this.carInfo=e.CarInfo,this.carInfo.title=e.CarInfo.seat+"座 "+e.CarInfo.brand+" "+e.CarInfo.year+" "+e.CarInfo.level,this.car={travelType:e.TravelType,travelFormType:e.TravelFormType,isThrough:e.IsThrough?"直达":"非直达",startTime:e.StartTime,startAddress:e.StartCarAddress,endTime:e.EndTime,endAddress:e.EndCarAddress},this.chartered={Kilometre:e.CarInfo.Kilometre,PredictTotalPrice:e.CarInfo.PredictTotalPrice,PredictPrice:e.CarInfo.PredictPrice,StrDate:e.CarInfo.StrDate},this.computedHalfway(this.car.startTime,this.car.endTime),this.computedPrice(),this.t=(new Date(this.car.endTime)-new Date(this.car.startTime))/1e3/60/60},methods:{computedTime:function(e,t,a,i,s){var r=this;g||(g=new AMap.Driving),g.search(new AMap.LngLat(e,t),new AMap.LngLat(a,i),function(e,t){if("complete"===e){var a=1e3*t.routes[0].time*2+new Date(r.car.startTime).getTime()+18e5,i=new Date(a).format("yyyy-MM-dd hh:mm:ss");s&&s(i)}})},onPreview:function(){this.showViewer=!0},closeViewer:function(){this.showViewer=!1},modify:function(){var e=this,t={Id:this.buyId,StartProvinceName:this.car.startAddress.province,StartCityName:this.car.startAddress.city,StartDistrictName:this.car.startAddress.district,StartAddress:this.car.startAddress.address,EndProvinceName:this.car.endAddress.province,EndCityName:this.car.endAddress.city,EndDistrictName:this.car.endAddress.district,EndAddress:this.car.endAddress.address,StartTime:this.car.startTime,EndTime:this.car.endTime,TravelType:this.car.travelType,IsThrough:"直达"==this.car.isThrough,StartLonLat:this.car.startAddress.point,EndLonLat:this.car.endAddress.point,TravelFormType:this.car.travelFormType};if(new Date(this.car.startTime).getTime()-((new Date).getTime()+72e5)<0)l.a.toast("出发时间必须大于2小时");else{if("2"==this.car.travelType){if(!this.car.endTime)return void l.a.toast("请选择到达日期时间");if(new Date(this.car.startTime).getTime()>new Date(this.car.endTime).getTime())return void l.a.toast("出发时间不能大于结束时间")}this.priceFlag=!0,Object(r.f)(t).then(function(t){1==t.Code&&e.computedPrice()})}},selectHalfway:function(e,t,a){this.hayFlag=!0,localStorage.setItem("mapKey",e),localStorage.setItem("mapType",t),localStorage.setItem("mapIndex",a)},removeHalfway:function(e,t,a){this[t][e].splice(a-1,1),this.computedPrice()},hayAddress:function(e){var t=localStorage.getItem("mapType"),a=localStorage.getItem("mapKey"),i=localStorage.getItem("mapIndex");"undefined"==i?this[t][a].splice(0,0,e):this[t][a].splice(i,0,e),this.hayFlag=!1,this.computedPrice(),localStorage.removeItem("mapKey"),localStorage.removeItem("mapType"),localStorage.removeItem("mapIndex")},hayList:function(){var e=[];return[].concat(l.a.getRouteInfo(this.startHalfway),l.a.getRouteInfo(this.Halfway),l.a.getRouteInfo(this.endHalfway)).forEach(function(t){e.push({Leave:t.time,Arrival:t.time,LonLat:t.point,Address:t.value,CityName:t.city,ProvinceName:t.province,DistrictName:t.district})}),e},submit:function(){var e=this;if(new Date(this.car.startTime).getTime()-((new Date).getTime()+72e5)<0)l.a.toast("出发时间必须大于2小时");else{if("2"==this.car.travelType){if(!this.car.endTime)return void l.a.toast("请选择到达日期时间");if(new Date(this.car.startTime).getTime()>new Date(this.car.endTime).getTime())return void l.a.toast("出发时间不能大于结束时间")}var t=this.hayList(),a=!1;if(2!=this.car.travelType||(t.forEach(function(t){t.DistrictName==e.car.endAddress.district&&(a=!0)}),a))if(this.userInfo.Name)if(this.userInfo.Mobile)if(l.a.isPhone(this.userInfo.Mobile)){if(!this.checked)return l.a.toast({type:"info",message:"请您勾选已阅读《旅游车辆租赁合同》"}),this.tsFlag=!0,setTimeout(function(){e.tsFlag=!1},1e3),void(document.documentElement.scrollTop=document.body.scrollTop=1e4);var i={PreordainOrder:{PreordainOrderId:this.buyId,CarRoutesList:t},NeedInvoice:!1,Invoice:null,OrderContact:{MemGuideUserId:null,Contect:this.userInfo.Name,Phone:this.userInfo.Mobile,AcceptTime:this.car.startTime,AcceptPosition:this.car.startAddress.value,Remark:this.userInfo.Remarks}};this.submitFlag=!0,Object(r.Q)(i).then(function(t){e.submitFlag=!1,1==t.Code?(l.a.toast({type:"info",message:"订单提交成功，立即前往支付"}),e.leaveFlag=!1,setTimeout(function(){var a={startTime:e.car.startTime,info:e.carInfo,money:e.chartered.PredictPrice,startAddress:e.car.startAddress.value,endAddress:e.car.endAddress.value};localStorage.setItem("LddPayInfo",s()(a)),e.$router.push({path:"pay?id="+encodeURIComponent(t.Data.split(",")[0])+"&m="+e.chartered.PredictPrice+"&bt=1&ot=1"})},1e3)):(l.a.toast(t.Msg),setTimeout(function(){e.$router.go(-1)},2500))})}else l.a.toast("请填写正确的联系电话");else l.a.toast("请填写联系电话");else l.a.toast("请填写联系人");else l.a.toast({message:"请添加【"+this.car.endAddress.province+" "+this.car.endAddress.city+" "+this.car.endAddress.district+"】的途经地"})}},getOrderContract:function(){var e=this;Object(r.N)({Type:0}).then(function(t){1==t.Code?e.drawerHtml=t.Data:l.a.toast({type:"info",message:t.Msg})})},computedPrice:function(){var e=this;this.priceFlag=!0;var t={PreordainOrderId:this.buyId,CarRoutesList:this.hayList()};Object(r.L)(t).then(function(t){e.priceFlag=!1,1==t.Code&&(e.firstComputedPrice||(e.firstComputedPrice=!0),e.chartered={Kilometre:t.Data.Kilometre,PredictTotalPrice:t.Data.PredictTotalPrice,PredictPrice:t.Data.PredictPrice,StrDate:t.Data.StrDate})})},computedHalfway:function(e,t){this.startHalfway={},this.endHalfway={};var a=new Date(e),i=new Date(t),s=this.car.endAddress;this.$set(this.startHalfway,a.format("yyyy-MM-dd"),[]),2==this.car.travelType&&this.$set(this.startHalfway,a.format("yyyy-MM-dd"),[{value:s.value,point:s.point,address:s.address,city:s.city,province:s.province,district:s.district}]),this.$set(this.endHalfway,a.format("yyyy-MM-dd"),[]);for(var r=Math.floor((i.getTime()-a.getTime())/864e5),n={},l=0;l<r;l++){if(0!=l&&l!=r)n[new Date(a.getTime()+864e5*l).format("yyyy-MM-dd")]=[]}this.Halfway=n},startAddress:function(e){var t=this;this.car.startAddress=e;var a=e.province+","+e.city+","+e.district;e={startAreaName:a,endAreaName:a};Object(r.A)(e).then(function(e){1==e.Code&&(t.car.startAddress.ProvinceId=e.Data.StartAreaId.ProvinceId,t.car.startAddress.CityId=e.Data.StartAreaId.CityId,t.car.startAddress.DistrictId=e.Data.StartAreaId.DistrictId,t.modify())})},endAddress:function(e){var t=this;this.car.endAddress=e;var a=e.province+","+e.city+","+e.district;e={startAreaName:a,endAreaName:a};Object(r.A)(e).then(function(e){1==e.Code&&(t.car.endAddress.ProvinceId=e.Data.StartAreaId.ProvinceId,t.car.endAddress.CityId=e.Data.StartAreaId.CityId,t.car.endAddress.DistrictId=e.Data.StartAreaId.DistrictId,2==t.car.travelType&&t.computedHalfway(t.car.startTime,t.car.endTime),t.modify())})},windowScroll:function(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>this.navTop?this.fixed=!0:this.fixed=!1}},mounted:function(){var e=this;this.$nextTick(function(){e.navTop=e.$refs.nav.offsetTop-70}),window.addEventListener("scroll",this.windowScroll)},destroyed:function(){this.leaveFlag&&Object(r.S)()}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bgf"},[a("div",{staticClass:"busDetail"},[e._m(0),e._v(" "),a("div",{staticClass:"busMain flex flex-pack-justify w1200"},[a("div",{staticClass:"left"},[a("div",{staticClass:"ydInfo"},[a("div",{staticClass:"busTitle"},[e._v("预定信息")]),e._v(" "),a("el-form",{attrs:{model:e.car,"label-width":"80px"}},[a("div",{staticClass:"flex flex-pack-justify"},[a("el-form-item",{staticClass:"flex-1",attrs:{label:"包车方式"}},[a("el-radio-group",{model:{value:e.car.travelType,callback:function(t){e.$set(e.car,"travelType",t)},expression:"car.travelType"}},[a("el-radio",{staticClass:"el-radios",attrs:{border:"",label:"2"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"往返指:包去程,也包回程。",placement:"bottom"}},[a("div",[e._v("往返")])])],1),e._v(" "),a("el-radio",{staticClass:"el-radios",attrs:{border:"",label:"1"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"单程指:只包去程或只包回程。",placement:"bottom"}},[a("div",[e._v("单程")])])],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"flex-1",attrs:{label:"包车类别"}},[a("el-radio-group",{model:{value:e.car.travelFormType,callback:function(t){e.$set(e.car,"travelFormType",t)},expression:"car.travelFormType"}},[a("el-radio",{staticClass:"el-radios",attrs:{border:"",label:"0"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"全包指:包租车费用含油费、桥费等。",placement:"bottom"}},[a("div",[e._v("全包")])])],1),e._v(" "),a("el-radio",{staticClass:"el-radios",attrs:{border:"",label:"1"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"半包指:包车费用不包含油费、桥费等,由用户据实支付。",placement:"bottom"}},[a("div",[e._v("半包")])])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"flex flex-pack-justify flex-align-center"},[a("div",{staticClass:"flex-1"},[a("div",{staticClass:"flex flex-1 flex-pack-justify"},[a("el-form-item",{staticClass:"flex-1",attrs:{label:"出发时间"}},[a("el-date-picker",{staticClass:"red",staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"请选择出发日期时间"},model:{value:e.car.startTime,callback:function(t){e.$set(e.car,"startTime",t)},expression:"car.startTime"}})],1),e._v(" "),2==e.car.travelType?a("el-form-item",{staticClass:"flex-1",attrs:{label:"到达时间"}},[a("el-date-picker",{staticClass:"red",staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"请选择到达日期时间"},model:{value:e.car.endTime,callback:function(t){e.$set(e.car,"endTime",t)},expression:"car.endTime"}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"flex flex-1 flex-pack-justify"},[a("el-form-item",{staticClass:"flex-1",attrs:{label:"出发地址"}},[a("tl-map",{attrs:{title:"请填写出发地址",strValue:e.car.startAddress.value},on:{getAddress:e.startAddress}})],1),e._v(" "),a("el-form-item",{staticClass:"flex-1",staticStyle:{"margin-bottom":"0"},attrs:{label:"目的地址"}},[a("tl-map",{attrs:{title:"请填写目的地址",strValue:e.car.endAddress.value},on:{getAddress:e.endAddress}})],1)],1)])])])],1),e._v(" "),a("div",{staticClass:"xcInfo"},[a("div",{staticClass:"busTitle"},[e._v("行程信息")]),e._v(" "),a("div",{staticClass:"xcInfo-main"},[e.hayFlag?a("div",{staticClass:"fixMap"},[a("div",{staticClass:"flex flex-pack-justify"},[a("tl-map",{staticClass:"flex-1",attrs:{title:"请填写途经地",icon:""},on:{getAddress:e.hayAddress}}),e._v(" "),a("el-button",{attrs:{plain:"",icon:"el-icon-close",type:"success"},on:{click:function(t){e.hayFlag=!e.hayFlag}}})],1)]):e._e(),e._v(" "),a("div",{staticClass:"release"},[e._l(e.startHalfway,function(t,i){return a("div",{key:t.point,staticClass:"releaseHalfway"},[a("div",{staticClass:"title flex flex-pack-justify startHalfway"},[a("div",{staticClass:"start"},[e._v("出发地")]),e._v(" "),a("div",{staticClass:"flex-1"},[e._v(e._s(e._f("dateDay")(e.car.startTime)))]),e._v(" "),a("div",{staticClass:"add",on:{click:function(t){return e.selectHalfway(i,"startHalfway")}}},[e._v("添加途径地 +")])]),e._v(" "),a("div",{staticClass:"releaseHalfway-item flex"},[a("div",{staticClass:"flex-1"},[e._v("出发地址："+e._s(e.car.startAddress.value))]),e._v(" "),a("div",{staticClass:"flex-1"},[e._v("出发时间："+e._s(e.car.startTime))])]),e._v(" "),a("div",{class:"startHal"+i},e._l(t,function(t,s){return a("div",{key:s,staticClass:"releaseHalfway-item"},[a("div",{staticClass:"flex flex-pack-justify"},[a("div",[e._v("途径地点："+e._s(t.value))]),e._v(" "),a("div",{staticClass:"flex flex-pack-justify flex-align-center"},[a("div",{staticClass:"addA el-icon-plus",on:{click:function(t){return e.selectHalfway(i,"startHalfway",s+1)}}},[e._v("添加")]),e._v(" "),a("div",{staticClass:"el-icon-delete",on:{click:function(t){return e.removeHalfway(i,"startHalfway",s+1)}}})])])])}),0)])}),e._v(" "),e._l(e.Halfway,function(t,i){return a("div",{key:t.point,staticClass:"releaseHalfway"},[a("div",{staticClass:"title flex flex-pack-justify midHalfway"},[a("div",{staticClass:"halfway"},[e._v("途径地")]),e._v(" "),a("div",{staticClass:"flex-1"},[e._v(e._s(i))]),e._v(" "),a("div",{staticClass:"add",on:{click:function(t){return e.selectHalfway(i,"Halfway")}}},[e._v("添加途径地 +")])]),e._v(" "),a("div",{class:"hal"+i},[e._l(t,function(t,s){return a("div",{key:s,staticClass:"releaseHalfway-item"},[a("div",{staticClass:"flex flex-pack-justify"},[a("div",[e._v("途径地点："+e._s(t.value))]),e._v(" "),a("div",{staticClass:"flex flex-pack-justify flex-align-center"},[a("div",{staticClass:"addA el-icon-plus",on:{click:function(t){return e.selectHalfway(i,"Halfway",s+1)}}},[e._v("添加")]),e._v(" "),a("div",{staticClass:"el-icon-delete",on:{click:function(t){return e.removeHalfway(i,"Halfway",s+1)}}})])])])}),e._v(" "),t.length?e._e():a("div",{staticClass:"releaseHalfway-item",on:{click:function(t){return e.selectHalfway(i,"Halfway")}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t驻地停留\n\t\t\t\t\t\t\t\t\t")])],2)])}),e._v(" "),e._l(e.endHalfway,function(t,i){return a("div",{key:t.point,staticClass:"releaseHalfway"},[a("div",{staticClass:"title flex flex-pack-justify endHalfway"},[a("div",{staticClass:"end"},[e._v("还车地")]),e._v(" "),a("div",{staticClass:"flex-1"},[e._v(e._s(e._f("dateDay")(e.car.endTime)))]),e._v(" "),a("div",{staticClass:"add",on:{click:function(t){return e.selectHalfway(i,"endHalfway")}}},[e._v("添加途径地 +")])]),e._v(" "),a("div",{class:"endHal"+i},e._l(t,function(t,s){return a("div",{key:s,staticClass:"releaseHalfway-item"},[a("div",{staticClass:"flex flex-pack-justify"},[a("div",[e._v("途径地点："+e._s(t.value))]),e._v(" "),a("div",{staticClass:"flex flex-pack-justify flex-align-center"},[a("div",{staticClass:"addA el-icon-plus",on:{click:function(t){return e.selectHalfway(i,"endHalfway",s+1)}}},[e._v("添加")]),e._v(" "),a("div",{staticClass:"el-icon-delete",on:{click:function(t){return e.removeHalfway(i,"endHalfway",s+1)}}})])])])}),0),e._v(" "),2==e.car.travelType?a("div",{staticClass:"releaseHalfway-item flex"},[a("div",{staticClass:"flex-1"},[e._v("返程目的地："+e._s(e.car.startAddress.value))]),e._v(" "),a("div",{staticClass:"flex-1"},[e._v("返程达到时间："+e._s(e.car.endTime))])]):a("div",{staticClass:"releaseHalfway-item flex"},[a("div",{staticClass:"flex-1"},[e._v("返程目的地："+e._s(e.car.endAddress.value))]),e._v(" "),a("div",{staticClass:"flex-1"},[e._v("预计达到时间："+e._s(e.car.endTime))])])])})],2)])]),e._v(" "),a("div",{staticClass:"gcInfo"},[a("div",{staticClass:"busTitle"},[e._v("跟车信息")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.userInfo,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{attrs:{placeholder:"请填写联系人"},model:{value:e.userInfo.Name,callback:function(t){e.$set(e.userInfo,"Name",t)},expression:"userInfo.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{placeholder:"请填写联系电话"},model:{value:e.userInfo.Mobile,callback:function(t){e.$set(e.userInfo,"Mobile",t)},expression:"userInfo.Mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{attrs:{placeholder:"请填写备注(选填)"},model:{value:e.userInfo.Remarks,callback:function(t){e.$set(e.userInfo,"Remarks",t)},expression:"userInfo.Remarks"}})],1)],1)],1),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"htInfo",class:{ts:e.tsFlag}},[e._m(2),e._v(" "),a("div",{staticClass:"htInfo-text"},[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("我愿意接受")]),a("span",{staticClass:"ht",on:{click:function(t){e.drawer=!0}}},[e._v("《旅游车辆租赁合同》")])],1),e._v(" "),a("el-drawer",{attrs:{title:"旅游车辆租赁合同",visible:e.drawer,direction:"ltr","with-header":!1,size:"40%"},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticClass:"drawer",domProps:{innerHTML:e._s(e.drawerHtml)}})])],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.priceFlag,expression:"priceFlag"}],staticClass:"busBtm"},[a("div",{staticClass:"busTitle flex flex-pack-justify flex-align-center "},[a("div",[e._v("支付信息")]),e._v(" "),a("div",{staticClass:"totalMoney"},[e._v("包车总金额"),a("span",[e._v("￥"+e._s(e.chartered.PredictTotalPrice))])]),e._v(" "),a("div",{staticClass:"money"},[e._v("需支付包车定金"),a("span",[e._v("￥"+e._s(e.chartered.PredictPrice))])]),e._v(" "),a("el-button",{attrs:{type:"danger",loading:e.submitFlag},on:{click:e.submit}},[e._v("支付定金预定车辆")])],1)])]),e._v(" "),a("div",{ref:"nav",staticClass:"right"},[a("div",{class:{fixed:e.fixed}},[a("div",{staticClass:"carInfo"},[a("div",{staticClass:"busTitle"},[e._v("车辆信息")]),e._v(" "),a("el-collapse",{staticClass:"el-collapse_detail",attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{title:e.carInfo.title,name:"1"}},[a("el-carousel",{attrs:{trigger:"click",height:"150px"}},e._l(e.carInfo.carimg,function(t,i){return a("el-carousel-item",{key:i},[a("div",{staticClass:"img",style:"background: url("+t+");",on:{click:e.onPreview}})])}),1),e._v(" "),e.showViewer?a("el-image-viewer",{attrs:{"on-close":e.closeViewer,"url-list":e.carInfo.carimg}}):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[e._v("车队联系人")]),e._v(" "),a("el-col",{attrs:{span:14}},[e._v(e._s(e.carInfo.contact)+" "+e._s(e.carInfo.iphone))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[e._v("客运企业")]),e._v(" "),a("el-col",{attrs:{span:14}},[e._v(e._s(e.carInfo.enterpriseName)+" "+e._s(e.carInfo.servicePhone))])],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.priceFlag,expression:"priceFlag"}],staticClass:"fyInfo"},[a("div",{staticClass:"busTitle"},[e._v("费用明细")]),e._v(" "),a("div",{staticClass:"fyInfo-mod"},[1==e.car.travelType?a("div",{staticClass:"flex flex-pack-justify"},[a("div",[e._v("预计总时间")]),e._v(" "),a("div",[e._v(e._s(e._f("fixed")(e.t))+"小时")])]):e._e(),e._v(" "),a("div",{staticClass:"flex flex-pack-justify"},[a("div",[e._v("预计总里程")]),e._v(" "),a("div",[e._v(e._s(e.chartered.Kilometre)+"公里")])]),e._v(" "),e._m(3),e._v(" "),a("div",{staticClass:"flex flex-end moneyTitle"},[e._m(4),e._v(" "),a("div",{staticClass:"flex-1"},[a("div",{staticClass:"money"},[e._v("￥"+e._s(e.chartered.PredictTotalPrice))]),e._v(" "),a("div",{staticClass:"oldMoney"},[e._v("￥"+e._s(e.chartered.PredictPrice))])])]),e._v(" "),a("div",{staticClass:"flex flex-pack-center"},[a("el-button",{attrs:{type:"danger",loading:e.submitFlag},on:{click:e.submit}},[e._v("支付定金预定车辆")])],1)])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"busDetail-ts w1200"},[t("div",{},[this._v("锁定车辆后，若在"),t("span",[this._v("15分钟")]),this._v("内未完成订单支付，则取消该订单")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"syInfo"},[t("div",{staticClass:"busTitle"},[this._v("索要发票")]),this._v(" "),t("div",{staticClass:"syInfo-text"},[t("span",[this._v("*")]),this._v(" 需开具发票请在该订单完成后，至个人中心-发票管理-申请发票填写发票信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"busTitle flex flex-pack-justify"},[t("div",[this._v("合同签订")]),this._v(" "),t("div",[t("span",{staticClass:"red"},[this._v("*")]),this._v("在您预定由逸出游电子商务有限公司为您提供的品牌包车产品前，请您仔细阅读本合同条款。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex flex-pack-justify"},[t("div",[this._v("(含车辆驻地到行程出发的距离)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex-1"},[t("div",{staticClass:"total"},[this._v("包车总金额")]),this._v(" "),t("div",{staticClass:"zf"},[this._v("需支付包车定金")])])}]};var A=a("VU/8")(b,k,!1,function(e){a("qp75")},null,null);t.default=A.exports},fZOM:function(e,t,a){var i=a("kM2E"),s=a("mbce")(!1);i(i.S,"Object",{values:function(e){return s(e)}})},fZjL:function(e,t,a){e.exports={default:a("jFbC"),__esModule:!0}},gRE1:function(e,t,a){e.exports={default:a("TmV0"),__esModule:!0}},jFbC:function(e,t,a){a("Cdx3"),e.exports=a("FeBl").Object.keys},mbce:function(e,t,a){var i=a("lktj"),s=a("TcQ7"),r=a("NpIQ").f;e.exports=function(e){return function(t){for(var a,n=s(t),l=i(n),c=l.length,o=0,d=[];c>o;)r.call(n,a=l[o++])&&d.push(e?[a,n[a]]:n[a]);return d}}},qp75:function(e,t){},uqUo:function(e,t,a){var i=a("kM2E"),s=a("FeBl"),r=a("S82l");e.exports=function(e,t){var a=(s.Object||{})[e]||Object[e],n={};n[e]=t(a),i(i.S+i.F*r(function(){a(1)}),"Object",n)}}});
//# sourceMappingURL=1.33abe8a2df560adb1d1a.js.map