webpackJsonp([5],{"+ZrU":function(t,e,a){t.exports=a.p+"static/img/pay-zfb.82e9e75.png"},XOD9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("+zM7"),s=a("gwNS"),r={data:function(){return{payType:"wx",id:"",bt:0,ot:0,car:{},flag:!1,dialogTableVisible:!1,src:"../../../static/img/pay-wx.png",timer:null,money:0}},created:function(){this.car=JSON.parse(localStorage.getItem("LddPayInfo"))||{},this.id=this.$route.query.id,this.bt=this.$route.query.bt,this.ot=this.$route.query.ot,this.money=Number(this.$route.query.m)},filters:{fix:function(t){return i.a.tofix(t,2)}},destroyed:function(){clearInterval(this.timer)},methods:{submit:function(){var t=this;this.flag=!0;var e={BusinessTypeEnum:this.bt,OrderPayTypeEnum:this.ot,OrderIdList:this.id};"wx"==this.payType?(this.dialogTableVisible=!0,Object(s.Y)(e).then(function(e){t.flag=!1,1==e.Code?(t.src=e.Data,t.timer=setInterval(function(){t.getPayStatus()},1500)):i.a.toast(e.Msg)})):Object(s.k)(e).then(function(e){if(t.flag=!1,1==e.Code){var a=t.$router.resolve({path:"/payGateWay",query:{htmlData:e.Data}});window.open(a.href,"_ blank"),t.timer=setInterval(function(){t.getPayStatus()},1500)}else i.a.toast(e.Msg)})},getPayStatus:function(){var t=this,e={BusinessTypeEnum:"1",OrderPayTypeEnum:"1",OrderIdList:this.id};Object(s.R)(e).then(function(e){1==e.Code&&(clearInterval(t.timer),t.$router.push("/user"))})},close:function(){clearInterval(this.timer)}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bgf"},[i("div",{staticClass:"pay w1200"},[t.car.startTime?i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[t._v("租车订单信息")]),t._v(" "),i("div",{staticClass:"pay-bus flex flex-align-center"},[t.car.info?i("div",{staticClass:"pay-bus"},[i("el-image",{staticClass:"pay-img",attrs:{"preview-src-list":t.car.info.carimg,src:t.car.info.carimg[0],fit:"cover"}})],1):t._e(),t._v(" "),i("div",{staticClass:"bus-info flex-1 flex-pack-justify flex flex-v"},[i("div",[t._v("出发时间："+t._s(t.car.startTime))]),t._v(" "),i("div",[t._v("出发地址："+t._s(t.car.startAddress))]),t._v(" "),i("div",[t._v("到达地址："+t._s(t.car.endAddress))]),t._v(" "),t.car.info?i("div",[t._v("车辆信息："+t._s(t.car.info.title))]):t._e()])])]):t._e(),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[t._v("支付方式")]),t._v(" "),i("div",{staticClass:"pay-select"},[i("el-radio",{attrs:{label:"wx",border:""},model:{value:t.payType,callback:function(e){t.payType=e},expression:"payType"}},[i("img",{staticClass:"pay-img",attrs:{src:a("zitb"),alt:"微信"}})]),t._v(" "),i("el-radio",{attrs:{label:"bao",border:""},model:{value:t.payType,callback:function(e){t.payType=e},expression:"payType"}},[i("img",{staticClass:"pay-img",attrs:{src:a("+ZrU"),alt:"支付宝"}})])],1),t._v(" "),i("div",{staticClass:"flex flex-end pay-btn"},[i("div",[i("div",{staticClass:"text"},[t._v("支付：￥"),i("span",[t._v(t._s(t._f("fix")(t.money)))])]),t._v(" "),i("el-button",{attrs:{type:"warning",size:"medium",loading:t.flag},on:{click:t.submit}},[t._v("去付款")])],1)])])]),t._v(" "),i("el-dialog",{attrs:{title:"wx"==t.payType?"请微信扫二维码进行支付":"请支付宝扫二维码进行支付",width:"400px",center:"",visible:t.dialogTableVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{closed:t.close,"update:visible":function(e){t.dialogTableVisible=e}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.src,expression:"src"}],staticClass:"popImg"})])],1)},staticRenderFns:[]};var n=a("VU/8")(r,l,!1,function(t){a("aaMQ")},"data-v-7224594a",null);e.default=n.exports},aaMQ:function(t,e){},zitb:function(t,e,a){t.exports=a.p+"static/img/pay-wx.3e5629c.png"}});
//# sourceMappingURL=5.ba51bda97840971351ed.js.map